"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const hookPromise = async ({ data, field, hook, req, operation, fullOriginalDoc, fullData, }) => {
    const resultingData = data;
    if (field.hooks && field.hooks[hook]) {
        await field.hooks[hook].reduce(async (priorHook, currentHook) => {
            await priorHook;
            let hookedValue = await currentHook({
                value: data[field.name],
                originalDoc: fullOriginalDoc,
                data: fullData,
                operation,
                req,
            });
            if (typeof hookedValue === 'undefined') {
                hookedValue = data[field.name];
            }
            if (hookedValue !== undefined) {
                resultingData[field.name] = hookedValue;
            }
        }, Promise.resolve());
    }
};
exports.default = hookPromise;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG9va1Byb21pc2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZmllbGRzL2hvb2tQcm9taXNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBY0EsTUFBTSxXQUFXLEdBQUcsS0FBSyxFQUFFLEVBQ3pCLElBQUksRUFDSixLQUFLLEVBQ0wsSUFBSSxFQUNKLEdBQUcsRUFDSCxTQUFTLEVBQ1QsZUFBZSxFQUNmLFFBQVEsR0FDRSxFQUFpQixFQUFFO0lBQzdCLE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQztJQUUzQixJQUFJLEtBQUssQ0FBQyxLQUFLLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUNwQyxNQUFNLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLEVBQUU7WUFDOUQsTUFBTSxTQUFTLENBQUM7WUFFaEIsSUFBSSxXQUFXLEdBQUcsTUFBTSxXQUFXLENBQUM7Z0JBQ2xDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztnQkFDdkIsV0FBVyxFQUFFLGVBQWU7Z0JBQzVCLElBQUksRUFBRSxRQUFRO2dCQUNkLFNBQVM7Z0JBQ1QsR0FBRzthQUNKLENBQUMsQ0FBQztZQUVILElBQUksT0FBTyxXQUFXLEtBQUssV0FBVyxFQUFFO2dCQUN0QyxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNoQztZQUVELElBQUksV0FBVyxLQUFLLFNBQVMsRUFBRTtnQkFDN0IsYUFBYSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxXQUFXLENBQUM7YUFDekM7UUFDSCxDQUFDLEVBQUUsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7S0FDdkI7QUFDSCxDQUFDLENBQUM7QUFFRixrQkFBZSxXQUFXLENBQUMifQ==